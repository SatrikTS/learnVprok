{"version":3,"sources":["components/SelectBox/SelectBox.js","components/Header/Header.js","components/Card/Card.js","components/Prices/Prices.js","components/TabsList/TabsList.js","index.js"],"names":["SelectBox","children","useState","isActive","setActive","className","onClick","React","Children","map","child","i","Header","Card","props","data","listData","counter","setCounter","buyPrice","setBuyPrice","decrementCounter","caption","length","item","index","count","price","sum","removeItem","cardId","type","value","onChange","event","target","addTask","Prices","pricesList","average","averagePrice","list","htmlFor","label","placeholder","result","TabsList","setAveragePrice","arr","useEffect","forEach","cardName","countArr","costArr","App","cardData","setCardData","newItem","filter","push","splice","ReactDOM","render","document","getElementById"],"mappings":"mUAsBeA,EAnBG,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAChB,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAiBC,EAAjB,KAMA,OACI,sBAAKC,UAAWF,EAAW,uBAAwB,aAAnD,UACI,qBAAKE,UAAU,sBAAsBC,QAN5B,WACbF,GAAWD,IAKP,kBACA,qBAAKE,UAAU,mBAAf,SACKE,IAAMC,SAASC,IAAIR,GAAU,SAACS,EAAOC,GAAR,OAC1B,sBAAMN,UAAU,mBAAhB,SAAoCK,aCIzCE,EAfA,WACX,OACI,wBAAQP,UAAU,SAAlB,SACI,qBAAKA,UAAU,YAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAMA,UAAU,gBAAhB,4KACA,cAAC,EAAD,UACK,CAAC,MAAO,MAAO,iBC+DzBQ,G,MAvEF,SAACC,GACV,IAAMC,EAAOD,EAAME,SACnB,EAA8Bd,mBAAS,GAAvC,mBAAOe,EAAP,KAAgBC,EAAhB,KACA,EAAgChB,mBAAS,OAAzC,mBAAOiB,EAAP,KAAiBC,EAAjB,KAEIC,EAAmB,kBAAMH,EAAWD,EAAU,IAE/CA,GAAS,IACRI,EAAmB,kBAAMH,EAAW,KAiBxC,OACI,sBAAKb,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BS,EAAMQ,UACnC,sBAAKjB,UAAU,aAAf,UACI,sBAAKA,UAAU,YAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAMA,UAAU,iBAAhB,yGACA,sBAAMA,UAAU,iBAAhB,iFACA,sBAAMA,UAAU,iBAAhB,+CAEHU,EAAKQ,OAAS,EACXR,EAAKN,KAAI,SAACe,EAAMC,GAAP,OACL,sBAAKpB,UAAU,aAAf,UACI,sBAAMA,UAAU,mCAAhB,SAAoDmB,EAAKE,QACzD,uBAAMrB,UAAU,mCAAhB,UAAoDmB,EAAKG,MAAzD,QACA,uBAAMtB,UAAU,iCAAhB,UAAkDmB,EAAKI,IAAvD,QACA,sBAAMvB,UAAU,oCAAoCC,QAAS,kBAxBtE,SAACmB,GAChBX,EAAMe,WAAWJ,EAAOX,EAAMgB,QAuB6DD,CAAWJ,QAJjDD,EAAKI,QAO1C,qBAAKvB,UAAU,mBAAf,8EAKR,qBAAKA,UAAU,eAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,qBAAKA,UAAU,2BAAf,SACI,iCAAOY,EAAP,qBAEJ,sBAAKZ,UAAU,eAAf,UACI,sBAAMA,UAAU,mDAAmDC,QAASe,EAA5E,eACA,sBAAMhB,UAAU,iDAAiDC,QArDpE,kBAAMY,EAAWD,EAAU,IAqDxB,qBAGR,sBAAKZ,UAAU,mBAAf,UACI,uBAAOA,UAAU,mBAAmB0B,KAAK,OAAOC,MAAOb,EAAUc,SAxCpE,SAACC,GAClBd,EAAYc,EAAMC,OAAOH,UAsCT,QAGA,wBAAQ3B,UAAU,eAAeC,QAnDrC,SAACS,GACbD,EAAMsB,QAAQtB,EAAMgB,OAAQb,EAASE,GACrCD,EAAW,IAiDK,2E,OC7BTmB,G,YAlCA,SAACvB,GACZ,IAAMC,EAAOD,EAAMwB,WACnB,OACI,sBAAKjC,UAAU,SAAf,UACKU,EAAKwB,SACF,uBAAMlC,UAAU,kBAAhB,6HAC2BS,EAAM0B,gBAGrC,qBAAKnC,UAAU,iBAAf,SAEQU,EAAK0B,KAAKhC,KAAI,SAACe,EAAMb,GAAP,OACV,sBAAKN,UAAU,sBAAf,UACI,uBAAOqC,QAAQ,GAAGrC,UAAU,gBAA5B,SAA6CmB,EAAKmB,QACjDnB,EAAKQ,OACF,uBACID,KAAK,OACL1B,UAAU,gBACVuC,YAAapB,EAAKQ,QAEzBR,EAAKqB,QACF,sBAAMxC,UAAU,uBAAhB,SACKmB,EAAKqB,WAVwBlC,aCoEnDmC,EA9EE,SAAChC,GAEd,MAAwCZ,mBAAS,GAAjD,mBAAOsC,EAAP,KAAqBO,EAArB,KAEMnB,EAAM,SAASoB,GAEjB,IADA,IAAIH,EAAS,EACJlC,EAAI,EAAGA,EAAIqC,EAAIzB,OAAQZ,IAC5BkC,GAAUG,EAAIrC,GAElB,OAAOkC,GAoBX,OAjBAI,qBAAU,WACNnC,EAAMC,KAAKmC,SAAQ,SAAC1B,GAChB,GAAqB,kEAAlBA,EAAK2B,SAA4B,CAEhC,IAAMC,EAAW5B,EAAKR,SAASP,KAAI,SAACe,GAChC,OAAOA,EAAKE,SAGV2B,EAAU7B,EAAKR,SAASP,KAAI,SAACe,GAC/B,OAAOA,EAAKE,MAAQF,EAAKG,SAG7BoB,EAAgBnB,EAAIyB,GAAWzB,EAAIwB,WAM3C,eAAC,IAAD,CAAM/C,UAAU,YAAhB,UACI,eAAC,IAAD,CAASA,UAAU,kBAAnB,UACI,cAAC,IAAD,CAAKA,UAAU,iBAAf,wDACA,cAAC,IAAD,CAAKA,UAAU,iBAAf,wHAGJ,cAAC,IAAD,CAAUA,UAAU,mBAApB,SACI,cAAC,EAAD,CACImC,aAAcA,EACdF,WAAc,CACVC,SAAS,EACTE,KAAM,CACF,CACIE,MAAO,sEACPX,MAAO,OAEX,CACIW,MAAO,kFACPE,OAAQ,kBAO5B,cAAC,IAAD,CAAUxC,UAAU,mBAApB,SACI,cAAC,EAAD,CACIiC,WACI,CACGG,KAAO,CACF,CACIE,MAAO,uHACPX,MAAO,OAEX,CACIW,MAAO,sEACPX,MAAO,iBC9DrCsB,EAAM,WACR,MAAgCpD,mBAAS,CACrC,CACIiD,SAAU,gEACVrB,OAAQ,EACRd,SAAU,CACN,CACIU,MAAO,GACPC,MAAO,IACPC,IAAK,KAET,CACIF,MAAO,GACPC,MAAO,GACPC,IAAK,QAIjB,CACIuB,SAAU,sEACVrB,OAAQ,EACRd,SAAU,CACN,CACIU,MAAO,EACPC,MAAO,GACPC,IAAK,IAET,CACIF,MAAO,GACPC,MAAO,GACPC,IAAK,UA7BrB,mBAAO2B,EAAP,KAAiBC,EAAjB,KAoCMpB,EAAU,SAACN,EAAQb,EAASE,GAC9B,IAAMsC,EACN,CACI/B,MAAOT,EACPU,MAAOR,EACPS,IAAK,MAET2B,EAASG,QAAO,SAAClC,GACVA,EAAKM,SAAWA,IACf2B,EAAQ7B,IAAM6B,EAAQ/B,MAAQ+B,EAAQ9B,MACtCH,EAAKR,SAAS2C,KAAKF,OAG3BD,EAAY,YAAID,KAGd1B,EAAa,SAACJ,EAAOK,GACvByB,EAASG,QAAO,SAAClC,GACVA,EAAKM,SAAWA,GACfN,EAAKR,SAAS4C,OAAOnC,EAAO,MAGpC+B,EAAY,YAAID,KAGpB,OACI,sBAAKlD,UAAU,MAAf,UACI,cAAC,EAAD,IACA,qBAAKA,UAAU,OAAf,SACI,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,aAAf,SAEQkD,EAAS9C,KAAI,SAACe,GAAD,OACT,cAAC,EAAD,CACIF,QAASE,EAAK2B,SACdnC,SAAUQ,EAAKR,SACfc,OAAQN,EAAKM,OAEbM,QAASA,EACTP,WAAYA,GAFPL,EAAKM,aAQ1B,cAAC,EAAD,CAAMf,KAAMwC,aAOhCM,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.6a26498d.chunk.js","sourcesContent":["import React, {useState} from \"react\";\nimport './style.scss';\n\nconst SelectBox = ({children}) => {\n    const [isActive, setActive] = useState(false);\n\n    const showMenu = () => {\n        setActive(!isActive);\n    }\n\n    return (\n        <div className={isActive ? 'select-box is-active': \"select-box\"}>\n            <div className=\"select-box__caption\" onClick={showMenu}>SPOT</div>\n            <div className=\"select-box__wrap\">\n                {React.Children.map(children, (child, i) => (\n                    <span className=\"select-box__item\">{child}</span>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default SelectBox;","import React from \"react\";\nimport './style.scss';\nimport SelectBox from \"../SelectBox/SelectBox\";\n\nconst Header = () => {\n    return (\n        <header className=\"header\">\n            <div className=\"container\">\n                <div className=\"header__wrap\">\n                    <span className=\"header__title\">Калькулятор расчёта среднего</span>\n                    <SelectBox>\n                        {['TAL', 'RIG', 'LPL']}\n                    </SelectBox>\n                </div>\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import React, {useState} from \"react\";\nimport './style.scss';\n\nconst Card = (props) => {\n    const data = props.listData;\n    const [counter, setCounter] = useState(1);\n    const [buyPrice, setBuyPrice] = useState(215.3);\n    const incrementCounter = () => setCounter(counter + 1);\n    let decrementCounter = () => setCounter(counter - 1);\n\n    if(counter<=0) {\n        decrementCounter = () => setCounter(0);\n    }\n\n\n    const addData = (data) => {\n        props.addTask(props.cardId, counter, buyPrice);\n        setCounter(1);\n    }\n\n    const removeItem = (index) => {\n        props.removeItem(index, props.cardId)\n    }\n\n    const handleChange = (event) => {\n        setBuyPrice(event.target.value);\n    }\n\n    return (\n        <div className=\"card\">\n            <h2 className=\"card__title\">{props.caption}</h2>\n            <div className=\"card__item\">\n                <div className=\"card__top\">\n                    <div className=\"card__headers\">\n                        <span className=\"card__captions\">количество акций</span>\n                        <span className=\"card__captions\">цена покупки</span>\n                        <span className=\"card__captions\">сумма</span>\n                    </div>\n                    {data.length > 0 ?\n                        data.map((item, index) =>\n                            <div className=\"card__list\" key={item.sum} >\n                                <span className=\"card__list-count card__list-data\">{item.count}</span>\n                                <span className=\"card__list-price card__list-data\">{item.price} $</span>\n                                <span className=\"card__list-sum card__list-data\">{item.sum} $</span>\n                                <span className=\"card__list-remove card__list-data\" onClick={() => removeItem(index)}></span>\n                            </div>\n                        ) :\n                        <div className=\"card__list-empty\">\n                            Нет записей\n                        </div>\n                    }\n                </div>\n                <div className=\"card__bottom\">\n                    <div className=\"card__line-add\">\n                        <div className=\"card__line-counter\">\n                            <div className=\"card__count-change-group\">\n                                <span>{counter} шт</span>\n                            </div>\n                            <div className=\"count-button\">\n                                <span className=\"count-button__btn count-button__btn--minus minus\" onClick={decrementCounter}>-</span>\n                                <span className=\"count-button__btn count-button__btn--plus plus\" onClick={incrementCounter}>+</span>\n                            </div>\n                        </div>\n                        <div className=\"card__line-price\">\n                            <input className=\"card__line-input\" type=\"text\" value={buyPrice} onChange={handleChange}/> $\n                        </div>\n                        <button className=\"card__button\" onClick={addData}>Добавить</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import './style.scss'\nimport {useState} from \"react\";\n\nconst Prices = (props) => {\n    const data = props.pricesList;\n    return (\n        <div className=\"prices\">\n            {data.average &&\n                <span className=\"prices__caption\">\n                    Средняя цена позиции: {props.averagePrice}\n                </span>\n            }\n            <div className=\"prices__inputs\">\n                {\n                    data.list.map((item, i) =>\n                        <div className=\"prices__input-group\" key={i}>\n                            <label htmlFor=\"\" className=\"prices__label\">{item.label}</label>\n                            {item.value &&\n                                <input\n                                    type=\"text\"\n                                    className=\"prices__input\"\n                                    placeholder={item.value}/>\n                            }\n                            {item.result &&\n                                <span className=\"prices__input-result\">\n                                    {item.result}\n                                </span>\n                            }\n\n                        </div>\n                    )\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Prices;","import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport './style.scss';\nimport Prices from \"../Prices/Prices\";\nimport {useState, useEffect} from \"react\";\n\nconst TabsList = (props) => {\n\n    const [averagePrice, setAveragePrice] = useState(0);\n\n    const sum = function(arr){\n        var result = 0;\n        for (let i = 0; i < arr.length; i++){\n            result += arr[i]\n        }\n        return result;\n    }\n\n    useEffect(() => {\n        props.data.forEach((item) => {\n            if(item.cardName === 'Точки входа') {\n\n                const countArr = item.listData.map((item) => {\n                    return item.count;\n                });\n\n                const costArr = item.listData.map((item) => {\n                    return item.count * item.price;\n                });\n\n                setAveragePrice(sum(costArr) / sum(countArr));\n            }\n        })\n    });\n\n    return (\n        <Tabs className=\"tabs-list\">\n            <TabList className=\"tabs-list__list\">\n                <Tab className=\"tabs-list__tab\">Среднее</Tab>\n                <Tab className=\"tabs-list__tab\">Усреднение позиций</Tab>\n            </TabList>\n\n            <TabPanel className=\"tabs-list__panel\">\n                <Prices\n                    averagePrice={averagePrice}\n                    pricesList = {{\n                        average: true,\n                        list: [\n                            {\n                                label: 'Текущая цена',\n                                value: '100'\n                            },\n                            {\n                                label: 'Текущий профит',\n                                result: '+ 2 200$'\n                            }\n                        ]\n                        }\n                    }\n                ></Prices>\n            </TabPanel>\n            <TabPanel className=\"tabs-list__panel\">\n                <Prices\n                    pricesList={\n                        {\n                           list:  [\n                                {\n                                    label: 'Желаемая средняя цена',\n                                    value: '200'\n                                },\n                                {\n                                    label: 'Текущая цена',\n                                    value: '205'\n                                }\n                            ]\n                        }\n                    }\n                ></Prices>\n            </TabPanel>\n        </Tabs>\n    )\n}\n\n\nexport default TabsList;","import React, {useState} from \"react\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Header from \"./components/Header/Header\";\nimport Card from \"./components/Card/Card\";\nimport Tabs from \"./components/TabsList/TabsList\";\n\n// import App from './App';\n\nconst App = () => {\n    const [cardData, setCardData] = useState([\n        {\n            cardName: 'Точки входа',\n            cardId: 1,\n            listData: [\n                {\n                    count: 10,\n                    price: 100,\n                    sum: 1000\n                },\n                {\n                    count: 20,\n                    price: 90,\n                    sum: 1820\n                }\n            ]\n        },\n        {\n            cardName: 'Точки выхода',\n            cardId: 2,\n            listData: [\n                {\n                    count: 2,\n                    price: 32,\n                    sum: 64\n                },\n                {\n                    count: 20,\n                    price: 72,\n                    sum: 1440\n                }\n            ]\n        }\n    ])\n\n\n    const addTask = (cardId, counter, buyPrice) => {\n        const newItem =\n        {\n            count: counter,\n            price: buyPrice,\n            sum: 1440\n        }\n        cardData.filter((item) => {\n            if(item.cardId === cardId) {\n                newItem.sum = newItem.count * newItem.price;\n                item.listData.push(newItem);\n            }\n        })\n        setCardData([...cardData])\n    }\n\n    const removeItem = (index, cardId) => {\n        cardData.filter((item) => {\n            if(item.cardId === cardId) {\n                item.listData.splice(index, 1);\n            }\n        })\n        setCardData([...cardData])\n    }\n\n    return (\n        <div className=\"app\">\n            <Header></Header>\n            <div className=\"main\">\n                <div className=\"container\">\n                    <div className=\"card-group\">\n                        {\n                            cardData.map((item) =>\n                                <Card\n                                    caption={item.cardName}\n                                    listData={item.listData}\n                                    cardId={item.cardId}\n                                    key={item.cardId}\n                                    addTask={addTask}\n                                    removeItem={removeItem}\n                                >\n                                </Card>\n                            )\n                        }\n                    </div>\n                    <Tabs data={cardData}></Tabs>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}